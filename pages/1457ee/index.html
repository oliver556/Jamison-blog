<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>if-else 逻辑判断优化 | Jamey&#39;s</title>
    <meta name="generator" content="VuePress 1.8.0">
    <link rel="stylesheet" href="//at.alicdn.com/t/font_3114978_qe0b39no76.css">
    <link rel="icon" href="/common/avatar.jpg">
    <link rel="stylesheet" href="https://at.alicdn.com/t/font_3077305_pt8umhrn4k9.css">
    <meta name="description" content="web前端技术博客，专注web">
    <meta name="keywords" content="前端博客,个人技术博客,前端,前端开发,前端框架,web前端,前端面试题,技术文档,学习,面试,JavaScript,js,ES6,TypeScript,vue,python,css3,html5,Node,git,github,markdown">
    <meta name="theme-color" content="#11a8cd">
    <meta name="referrer" content="no-referrer-when-downgrade">
    
    <link rel="preload" href="/assets/css/0.styles.958aac5a.css" as="style"><link rel="preload" href="/assets/js/app.8146073e.js" as="script"><link rel="preload" href="/assets/js/2.53e9b62d.js" as="script"><link rel="preload" href="/assets/js/182.7e40c7eb.js" as="script"><link rel="preload" href="/assets/js/11.e591b5d9.js" as="script"><link rel="preload" href="/assets/js/4.49cfce35.js" as="script"><link rel="prefetch" href="/assets/js/10.769b9eed.js"><link rel="prefetch" href="/assets/js/100.3d61e469.js"><link rel="prefetch" href="/assets/js/101.b9bb39a6.js"><link rel="prefetch" href="/assets/js/102.a11ccded.js"><link rel="prefetch" href="/assets/js/103.7c274fa8.js"><link rel="prefetch" href="/assets/js/104.650aedb6.js"><link rel="prefetch" href="/assets/js/105.a4cbea5b.js"><link rel="prefetch" href="/assets/js/106.e1928a0a.js"><link rel="prefetch" href="/assets/js/107.4a2e0802.js"><link rel="prefetch" href="/assets/js/108.8bcc50d9.js"><link rel="prefetch" href="/assets/js/109.b9159c7d.js"><link rel="prefetch" href="/assets/js/110.4cec05a6.js"><link rel="prefetch" href="/assets/js/111.f32d4d03.js"><link rel="prefetch" href="/assets/js/112.15b9ffde.js"><link rel="prefetch" href="/assets/js/113.c9ff09e2.js"><link rel="prefetch" href="/assets/js/114.a8cbe931.js"><link rel="prefetch" href="/assets/js/115.6dde9ccd.js"><link rel="prefetch" href="/assets/js/116.6563faac.js"><link rel="prefetch" href="/assets/js/117.5ab0c13e.js"><link rel="prefetch" href="/assets/js/118.8a978230.js"><link rel="prefetch" href="/assets/js/119.9118f13b.js"><link rel="prefetch" href="/assets/js/12.041edd88.js"><link rel="prefetch" href="/assets/js/120.63dec872.js"><link rel="prefetch" href="/assets/js/121.7012d8ce.js"><link rel="prefetch" href="/assets/js/122.607d43c0.js"><link rel="prefetch" href="/assets/js/123.a2d70b4b.js"><link rel="prefetch" href="/assets/js/124.857e3274.js"><link rel="prefetch" href="/assets/js/125.bd2f7f90.js"><link rel="prefetch" href="/assets/js/126.b18b6a43.js"><link rel="prefetch" href="/assets/js/127.406f6873.js"><link rel="prefetch" href="/assets/js/128.2868ec7b.js"><link rel="prefetch" href="/assets/js/129.a79599f8.js"><link rel="prefetch" href="/assets/js/13.33158654.js"><link rel="prefetch" href="/assets/js/130.885a120a.js"><link rel="prefetch" href="/assets/js/131.17e16215.js"><link rel="prefetch" href="/assets/js/132.7e527a70.js"><link rel="prefetch" href="/assets/js/133.0e272fa0.js"><link rel="prefetch" href="/assets/js/134.eb2f3594.js"><link rel="prefetch" href="/assets/js/135.a319e218.js"><link rel="prefetch" href="/assets/js/136.a8e02c63.js"><link rel="prefetch" href="/assets/js/137.6ad77c20.js"><link rel="prefetch" href="/assets/js/138.cf5afaf2.js"><link rel="prefetch" href="/assets/js/139.33d99d5a.js"><link rel="prefetch" href="/assets/js/14.e5eaf310.js"><link rel="prefetch" href="/assets/js/140.563c3c12.js"><link rel="prefetch" href="/assets/js/141.e6db04c8.js"><link rel="prefetch" href="/assets/js/142.51941014.js"><link rel="prefetch" href="/assets/js/143.3cd454d5.js"><link rel="prefetch" href="/assets/js/144.05ffe1a0.js"><link rel="prefetch" href="/assets/js/145.09481abe.js"><link rel="prefetch" href="/assets/js/146.b579d331.js"><link rel="prefetch" href="/assets/js/147.79b44127.js"><link rel="prefetch" href="/assets/js/148.b2266540.js"><link rel="prefetch" href="/assets/js/149.5ac78ade.js"><link rel="prefetch" href="/assets/js/15.178bdffd.js"><link rel="prefetch" href="/assets/js/150.5979cddd.js"><link rel="prefetch" href="/assets/js/151.32d3a399.js"><link rel="prefetch" href="/assets/js/152.187f5cf2.js"><link rel="prefetch" href="/assets/js/153.f84d9bb2.js"><link rel="prefetch" href="/assets/js/154.0e600577.js"><link rel="prefetch" href="/assets/js/155.330a651d.js"><link rel="prefetch" href="/assets/js/156.d8c7f098.js"><link rel="prefetch" href="/assets/js/157.81a4e391.js"><link rel="prefetch" href="/assets/js/158.9cf8981f.js"><link rel="prefetch" href="/assets/js/159.efb4fa11.js"><link rel="prefetch" href="/assets/js/16.a6aca1d4.js"><link rel="prefetch" href="/assets/js/160.eacf3c42.js"><link rel="prefetch" href="/assets/js/161.83b46a8e.js"><link rel="prefetch" href="/assets/js/162.237da82b.js"><link rel="prefetch" href="/assets/js/163.e054e907.js"><link rel="prefetch" href="/assets/js/164.43fdbc32.js"><link rel="prefetch" href="/assets/js/165.6a077a76.js"><link rel="prefetch" href="/assets/js/166.95d6286b.js"><link rel="prefetch" href="/assets/js/167.4526921c.js"><link rel="prefetch" href="/assets/js/168.16709438.js"><link rel="prefetch" href="/assets/js/169.febd5060.js"><link rel="prefetch" href="/assets/js/17.93b1dbc2.js"><link rel="prefetch" href="/assets/js/170.ab27a31a.js"><link rel="prefetch" href="/assets/js/171.fb55a1d0.js"><link rel="prefetch" href="/assets/js/172.fd29ba62.js"><link rel="prefetch" href="/assets/js/173.faafef04.js"><link rel="prefetch" href="/assets/js/174.1127a8e6.js"><link rel="prefetch" href="/assets/js/175.4ec5272d.js"><link rel="prefetch" href="/assets/js/176.4540f582.js"><link rel="prefetch" href="/assets/js/177.1f2fb5e8.js"><link rel="prefetch" href="/assets/js/178.a82671a0.js"><link rel="prefetch" href="/assets/js/179.43e3826f.js"><link rel="prefetch" href="/assets/js/18.75d331c3.js"><link rel="prefetch" href="/assets/js/180.1a6a16b6.js"><link rel="prefetch" href="/assets/js/181.12675e08.js"><link rel="prefetch" href="/assets/js/183.f7f67380.js"><link rel="prefetch" href="/assets/js/184.510e39e8.js"><link rel="prefetch" href="/assets/js/185.f4d2d9bc.js"><link rel="prefetch" href="/assets/js/186.f4cff53b.js"><link rel="prefetch" href="/assets/js/187.c1eaebfa.js"><link rel="prefetch" href="/assets/js/188.d8385943.js"><link rel="prefetch" href="/assets/js/189.9adeab37.js"><link rel="prefetch" href="/assets/js/19.157b6ad3.js"><link rel="prefetch" href="/assets/js/190.92f0f375.js"><link rel="prefetch" href="/assets/js/191.db00510b.js"><link rel="prefetch" href="/assets/js/192.110fe12f.js"><link rel="prefetch" href="/assets/js/193.1252ed99.js"><link rel="prefetch" href="/assets/js/194.defe31d1.js"><link rel="prefetch" href="/assets/js/195.b0f650e2.js"><link rel="prefetch" href="/assets/js/196.693c7cf4.js"><link rel="prefetch" href="/assets/js/197.d582570d.js"><link rel="prefetch" href="/assets/js/198.829b95fd.js"><link rel="prefetch" href="/assets/js/199.35d24744.js"><link rel="prefetch" href="/assets/js/20.0fc06484.js"><link rel="prefetch" href="/assets/js/200.2d133918.js"><link rel="prefetch" href="/assets/js/201.66350975.js"><link rel="prefetch" href="/assets/js/202.9f4a3762.js"><link rel="prefetch" href="/assets/js/203.ce448386.js"><link rel="prefetch" href="/assets/js/204.1b6af643.js"><link rel="prefetch" href="/assets/js/205.5e4eda82.js"><link rel="prefetch" href="/assets/js/206.587a8cd6.js"><link rel="prefetch" href="/assets/js/207.825e1fa6.js"><link rel="prefetch" href="/assets/js/208.793c65a5.js"><link rel="prefetch" href="/assets/js/209.15b38f86.js"><link rel="prefetch" href="/assets/js/21.53324fcb.js"><link rel="prefetch" href="/assets/js/210.de8a820b.js"><link rel="prefetch" href="/assets/js/211.7ccc49db.js"><link rel="prefetch" href="/assets/js/212.2157902c.js"><link rel="prefetch" href="/assets/js/213.d8ea0b1c.js"><link rel="prefetch" href="/assets/js/214.6c4f1e9f.js"><link rel="prefetch" href="/assets/js/215.a9969330.js"><link rel="prefetch" href="/assets/js/216.177fc220.js"><link rel="prefetch" href="/assets/js/217.60577727.js"><link rel="prefetch" href="/assets/js/218.a0abb991.js"><link rel="prefetch" href="/assets/js/219.14c9586f.js"><link rel="prefetch" href="/assets/js/22.44066032.js"><link rel="prefetch" href="/assets/js/220.616356af.js"><link rel="prefetch" href="/assets/js/221.6a657001.js"><link rel="prefetch" href="/assets/js/222.9dc4f54f.js"><link rel="prefetch" href="/assets/js/223.7d36005f.js"><link rel="prefetch" href="/assets/js/224.fc60f907.js"><link rel="prefetch" href="/assets/js/225.ba986742.js"><link rel="prefetch" href="/assets/js/226.2b5236e8.js"><link rel="prefetch" href="/assets/js/227.77a6e7f7.js"><link rel="prefetch" href="/assets/js/228.ae8efe1a.js"><link rel="prefetch" href="/assets/js/229.2e41e1e1.js"><link rel="prefetch" href="/assets/js/23.e70f7198.js"><link rel="prefetch" href="/assets/js/230.8102459d.js"><link rel="prefetch" href="/assets/js/231.6605c3fb.js"><link rel="prefetch" href="/assets/js/232.3e8402db.js"><link rel="prefetch" href="/assets/js/233.c460748a.js"><link rel="prefetch" href="/assets/js/234.b385bf4f.js"><link rel="prefetch" href="/assets/js/235.d08ff245.js"><link rel="prefetch" href="/assets/js/236.5c323034.js"><link rel="prefetch" href="/assets/js/237.33075f0d.js"><link rel="prefetch" href="/assets/js/238.dbabc6d7.js"><link rel="prefetch" href="/assets/js/239.7a6da26b.js"><link rel="prefetch" href="/assets/js/24.28edad38.js"><link rel="prefetch" href="/assets/js/240.48188606.js"><link rel="prefetch" href="/assets/js/25.049f013f.js"><link rel="prefetch" href="/assets/js/26.4c11bec2.js"><link rel="prefetch" href="/assets/js/27.19413744.js"><link rel="prefetch" href="/assets/js/28.a561628a.js"><link rel="prefetch" href="/assets/js/29.c8d28c57.js"><link rel="prefetch" href="/assets/js/3.e04e8e9a.js"><link rel="prefetch" href="/assets/js/30.f26ec4ce.js"><link rel="prefetch" href="/assets/js/31.bde7a456.js"><link rel="prefetch" href="/assets/js/32.9d4b7a9e.js"><link rel="prefetch" href="/assets/js/33.84c7b6e6.js"><link rel="prefetch" href="/assets/js/34.07ea45a5.js"><link rel="prefetch" href="/assets/js/35.18dde361.js"><link rel="prefetch" href="/assets/js/36.20340ae0.js"><link rel="prefetch" href="/assets/js/37.0bd6bb12.js"><link rel="prefetch" href="/assets/js/38.91c9bac3.js"><link rel="prefetch" href="/assets/js/39.e5151051.js"><link rel="prefetch" href="/assets/js/40.bc2662b5.js"><link rel="prefetch" href="/assets/js/41.a5d94555.js"><link rel="prefetch" href="/assets/js/42.7bf4d18c.js"><link rel="prefetch" href="/assets/js/43.0e5d47ca.js"><link rel="prefetch" href="/assets/js/44.1d1b5c69.js"><link rel="prefetch" href="/assets/js/45.8cd55664.js"><link rel="prefetch" href="/assets/js/46.99e8beac.js"><link rel="prefetch" href="/assets/js/47.50380303.js"><link rel="prefetch" href="/assets/js/48.1334b1d3.js"><link rel="prefetch" href="/assets/js/49.66b704a6.js"><link rel="prefetch" href="/assets/js/5.4fa51e86.js"><link rel="prefetch" href="/assets/js/50.5ec5cabc.js"><link rel="prefetch" href="/assets/js/51.cd50f5d2.js"><link rel="prefetch" href="/assets/js/52.ef8227ee.js"><link rel="prefetch" href="/assets/js/53.805ec9f3.js"><link rel="prefetch" href="/assets/js/54.25e3cfa4.js"><link rel="prefetch" href="/assets/js/55.ef020600.js"><link rel="prefetch" href="/assets/js/56.8d16cfca.js"><link rel="prefetch" href="/assets/js/57.bdd7ba79.js"><link rel="prefetch" href="/assets/js/58.e6b9b86e.js"><link rel="prefetch" href="/assets/js/59.1a952f6f.js"><link rel="prefetch" href="/assets/js/6.d4d47784.js"><link rel="prefetch" href="/assets/js/60.e45872f8.js"><link rel="prefetch" href="/assets/js/61.b6754a13.js"><link rel="prefetch" href="/assets/js/62.3deede21.js"><link rel="prefetch" href="/assets/js/63.2e787d24.js"><link rel="prefetch" href="/assets/js/64.74bcfe4d.js"><link rel="prefetch" href="/assets/js/65.e09bfce6.js"><link rel="prefetch" href="/assets/js/66.4bb59d35.js"><link rel="prefetch" href="/assets/js/67.e055f87a.js"><link rel="prefetch" href="/assets/js/68.50ce7031.js"><link rel="prefetch" href="/assets/js/69.4f3d070a.js"><link rel="prefetch" href="/assets/js/7.adafd225.js"><link rel="prefetch" href="/assets/js/70.db5efa39.js"><link rel="prefetch" href="/assets/js/71.c0fc0c7a.js"><link rel="prefetch" href="/assets/js/72.f9e2fec5.js"><link rel="prefetch" href="/assets/js/73.b4265543.js"><link rel="prefetch" href="/assets/js/74.53c06c9a.js"><link rel="prefetch" href="/assets/js/75.56b0192f.js"><link rel="prefetch" href="/assets/js/76.1b2c28f5.js"><link rel="prefetch" href="/assets/js/77.76951f00.js"><link rel="prefetch" href="/assets/js/78.12467512.js"><link rel="prefetch" href="/assets/js/79.920d7a32.js"><link rel="prefetch" href="/assets/js/8.e9c1fc77.js"><link rel="prefetch" href="/assets/js/80.096fc605.js"><link rel="prefetch" href="/assets/js/81.2d15ceec.js"><link rel="prefetch" href="/assets/js/82.f6589a2c.js"><link rel="prefetch" href="/assets/js/83.df1058c6.js"><link rel="prefetch" href="/assets/js/84.23f44791.js"><link rel="prefetch" href="/assets/js/85.3bfe5699.js"><link rel="prefetch" href="/assets/js/86.399dfc97.js"><link rel="prefetch" href="/assets/js/87.a924e401.js"><link rel="prefetch" href="/assets/js/88.08ce7ee8.js"><link rel="prefetch" href="/assets/js/89.f5918d63.js"><link rel="prefetch" href="/assets/js/9.6f856bc0.js"><link rel="prefetch" href="/assets/js/90.88af4054.js"><link rel="prefetch" href="/assets/js/91.1b3fbc53.js"><link rel="prefetch" href="/assets/js/92.8177c6d9.js"><link rel="prefetch" href="/assets/js/93.52710f7f.js"><link rel="prefetch" href="/assets/js/94.02f77878.js"><link rel="prefetch" href="/assets/js/95.ff80e3bf.js"><link rel="prefetch" href="/assets/js/96.e272b810.js"><link rel="prefetch" href="/assets/js/97.c203eb54.js"><link rel="prefetch" href="/assets/js/98.b02d35be.js"><link rel="prefetch" href="/assets/js/99.135710a8.js">
    <link rel="stylesheet" href="/assets/css/0.styles.958aac5a.css">
  </head>
  <body class="theme-mode-light">
    <div id="app" data-server-rendered="true"><div class="theme-container sidebar-open have-rightmenu"><header class="navbar blur"><div title="目录" class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><img src="/common/avatar.jpg" alt="Jamey's" class="logo"> <span class="site-name can-hide">Jamey's</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/" class="nav-link">首页</a></div><div class="nav-item"><a href="/navigation/" class="nav-link">导航站</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="前端" class="dropdown-title"><a href="/web/" class="link-title">前端</a> <span class="title" style="display:none;">前端</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>学习专栏</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/note/html/" class="nav-link">《HTML》笔记</a></li><li class="dropdown-subitem"><a href="/note/css/" class="nav-link">《CSS》笔记</a></li><li class="dropdown-subitem"><a href="/note/javascript/" class="nav-link">《JavaScript》笔记</a></li><li class="dropdown-subitem"><a href="/note/vue/" class="nav-link">《Vue》笔记</a></li><li class="dropdown-subitem"><a href="/note/git/" class="nav-link">《Git》笔记</a></li><li class="dropdown-subitem"><a href="/note/specification/" class="nav-link">《规范》笔记</a></li><li class="dropdown-subitem"><a href="/note/softSkill/" class="nav-link">《软技能》笔记</a></li><li class="dropdown-subitem"><a href="/note/interview/" class="nav-link">《面试》笔记</a></li><li class="dropdown-subitem"><a href="/note/continuousDelivery/" class="nav-link">《持续集成&amp;交付&amp;部署》笔记</a></li></ul></li><li class="dropdown-item"><h4>踩坑专栏</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/note/element-ui/" class="nav-link">《Element-UI 实践系列》笔记</a></li><li class="dropdown-subitem"><a href="/note/mobile/" class="nav-link">《移动端 实践系列》笔记</a></li><li class="dropdown-subitem"><a href="/note/complex/" class="nav-link">《综合》笔记</a></li></ul></li><li class="dropdown-item"><h4>配置专栏</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/node/environment/" class="nav-link">《环境系列》笔记</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="NAS" class="dropdown-title"><a href="/nas/" class="link-title">NAS</a> <span class="title" style="display:none;">NAS</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>极空间</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/note/nas/" class="nav-link">Docker</a></li></ul></li><li class="dropdown-item"><h4>影视</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/note/movie/" class="nav-link">movie</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="其他" class="dropdown-title"><a href="/comprehensive/" class="link-title">其他</a> <span class="title" style="display:none;">其他</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>编辑器笔记</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/note/idea/" class="nav-link">开发编辑器</a></li></ul></li><li class="dropdown-item"><h4>浏览器笔记</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/note/browser/" class="nav-link">Chrome</a></li></ul></li><li class="dropdown-item"><h4>Mac笔记</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/note/mac/" class="nav-link">Mac</a></li></ul></li><li class="dropdown-item"><h4>跨界学习</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/note/cross-border/" class="nav-link">运营</a></li></ul></li><li class="dropdown-item"><h4>破解合集</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/note/cracked/" class="nav-link">破解</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="索引" class="dropdown-title"><a href="/archives/" class="link-title">索引</a> <span class="title" style="display:none;">索引</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>本站</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/categories/" class="nav-link">分类</a></li><li class="dropdown-subitem"><a href="/tags/" class="nav-link">标签</a></li><li class="dropdown-subitem"><a href="/archives/" class="nav-link">归档</a></li></ul></li><li class="dropdown-item"><h4>我的</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/whell/web/" class="nav-link">收藏</a></li><li class="dropdown-subitem"><a href="/whell/book/" class="nav-link">书单</a></li><li class="dropdown-subitem"><a href="/about/" class="nav-link">关于</a></li></ul></li></ul></div></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <div class="sidebar-hover-trigger"></div> <aside class="sidebar" style="display:none;"><div class="blogger"><img src="/common/avatar.jpg"> <div class="blogger-info"><h3>Jamey</h3> <span></span></div></div> <nav class="nav-links"><div class="nav-item"><a href="/" class="nav-link">首页</a></div><div class="nav-item"><a href="/navigation/" class="nav-link">导航站</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="前端" class="dropdown-title"><a href="/web/" class="link-title">前端</a> <span class="title" style="display:none;">前端</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>学习专栏</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/note/html/" class="nav-link">《HTML》笔记</a></li><li class="dropdown-subitem"><a href="/note/css/" class="nav-link">《CSS》笔记</a></li><li class="dropdown-subitem"><a href="/note/javascript/" class="nav-link">《JavaScript》笔记</a></li><li class="dropdown-subitem"><a href="/note/vue/" class="nav-link">《Vue》笔记</a></li><li class="dropdown-subitem"><a href="/note/git/" class="nav-link">《Git》笔记</a></li><li class="dropdown-subitem"><a href="/note/specification/" class="nav-link">《规范》笔记</a></li><li class="dropdown-subitem"><a href="/note/softSkill/" class="nav-link">《软技能》笔记</a></li><li class="dropdown-subitem"><a href="/note/interview/" class="nav-link">《面试》笔记</a></li><li class="dropdown-subitem"><a href="/note/continuousDelivery/" class="nav-link">《持续集成&amp;交付&amp;部署》笔记</a></li></ul></li><li class="dropdown-item"><h4>踩坑专栏</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/note/element-ui/" class="nav-link">《Element-UI 实践系列》笔记</a></li><li class="dropdown-subitem"><a href="/note/mobile/" class="nav-link">《移动端 实践系列》笔记</a></li><li class="dropdown-subitem"><a href="/note/complex/" class="nav-link">《综合》笔记</a></li></ul></li><li class="dropdown-item"><h4>配置专栏</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/node/environment/" class="nav-link">《环境系列》笔记</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="NAS" class="dropdown-title"><a href="/nas/" class="link-title">NAS</a> <span class="title" style="display:none;">NAS</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>极空间</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/note/nas/" class="nav-link">Docker</a></li></ul></li><li class="dropdown-item"><h4>影视</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/note/movie/" class="nav-link">movie</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="其他" class="dropdown-title"><a href="/comprehensive/" class="link-title">其他</a> <span class="title" style="display:none;">其他</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>编辑器笔记</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/note/idea/" class="nav-link">开发编辑器</a></li></ul></li><li class="dropdown-item"><h4>浏览器笔记</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/note/browser/" class="nav-link">Chrome</a></li></ul></li><li class="dropdown-item"><h4>Mac笔记</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/note/mac/" class="nav-link">Mac</a></li></ul></li><li class="dropdown-item"><h4>跨界学习</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/note/cross-border/" class="nav-link">运营</a></li></ul></li><li class="dropdown-item"><h4>破解合集</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/note/cracked/" class="nav-link">破解</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="索引" class="dropdown-title"><a href="/archives/" class="link-title">索引</a> <span class="title" style="display:none;">索引</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>本站</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/categories/" class="nav-link">分类</a></li><li class="dropdown-subitem"><a href="/tags/" class="nav-link">标签</a></li><li class="dropdown-subitem"><a href="/archives/" class="nav-link">归档</a></li></ul></li><li class="dropdown-item"><h4>我的</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/whell/web/" class="nav-link">收藏</a></li><li class="dropdown-subitem"><a href="/whell/book/" class="nav-link">书单</a></li><li class="dropdown-subitem"><a href="/about/" class="nav-link">关于</a></li></ul></li></ul></div></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>深入系列</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>专题系列</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>underscore系列</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>ES6系列</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>模块化</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>正则表达式</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>单元测试</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>微前端</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>实用函数</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Rollup</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span>解决方案</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/pages/a856f1/" class="sidebar-link">最全跨域解决方案</a></li><li><a href="/pages/1457ee/" aria-current="page" class="active sidebar-link">if-else 逻辑判断优化</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header level2"><a href="/pages/1457ee/#📖-前言" class="sidebar-link">📖. 前言</a></li><li class="sidebar-sub-header level2"><a href="/pages/1457ee/#一-单个-if-语句优化策略" class="sidebar-link">一. 单个 if 语句优化策略</a></li><li class="sidebar-sub-header level2"><a href="/pages/1457ee/#二-单个-if-else-语句优化策略" class="sidebar-link">二. 单个 if else 语句优化策略</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header level3"><a href="/pages/1457ee/#_1-提前-return" class="sidebar-link">1. 提前 return</a></li><li class="sidebar-sub-header level3"><a href="/pages/1457ee/#_2-使用条件三目运算符" class="sidebar-link">2. 使用条件三目运算符</a></li></ul></li><li class="sidebar-sub-header level2"><a href="/pages/1457ee/#三-多个-if-else-嵌套优化策略" class="sidebar-link">三. 多个 if else 嵌套优化策略</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header level3"><a href="/pages/1457ee/#_1-第一种优化" class="sidebar-link">1. 第一种优化：</a></li><li class="sidebar-sub-header level3"><a href="/pages/1457ee/#_2-第二种优化" class="sidebar-link">2. 第二种优化：</a></li><li class="sidebar-sub-header level3"><a href="/pages/1457ee/#_3-第三种优化" class="sidebar-link">3. 第三种优化：</a></li></ul></li><li class="sidebar-sub-header level2"><a href="/pages/1457ee/#四-多个-else-if-分支优化策略" class="sidebar-link">四. 多个 else if 分支优化策略</a></li><li class="sidebar-sub-header level2"><a href="/pages/1457ee/#五-使用数组新特性优化逻辑判断" class="sidebar-link">五. 使用数组新特性优化逻辑判断</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header level3"><a href="/pages/1457ee/#_1-使用-includes-优化代码逻辑" class="sidebar-link">1. 使用 includes 优化代码逻辑</a></li><li class="sidebar-sub-header level3"><a href="/pages/1457ee/#_2-使用-every-优化代码逻辑" class="sidebar-link">2. 使用 every 优化代码逻辑</a></li><li class="sidebar-sub-header level3"><a href="/pages/1457ee/#_3-使用-some-方法优化代码逻辑" class="sidebar-link">3. 使用 some 方法优化代码逻辑</a></li></ul></li><li class="sidebar-sub-header level2"><a href="/pages/1457ee/#六-默认值优化" class="sidebar-link">六. 默认值优化</a></li><li class="sidebar-sub-header level2"><a href="/pages/1457ee/#七-使用策略模式优化分支逻辑" class="sidebar-link">七. 使用策略模式优化分支逻辑</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header level3"><a href="/pages/1457ee/#_1-使用策略模式优化" class="sidebar-link">1. 使用策略模式优化</a></li></ul></li><li class="sidebar-sub-header level2"><a href="/pages/1457ee/#八-总结" class="sidebar-link">八. 总结</a></li><li class="sidebar-sub-header level2"><a href="/pages/1457ee/#九-感想" class="sidebar-link">九. 感想</a></li></ul></li></ul></section></li></ul> </aside> <div><main class="page"><div class="theme-vdoing-wrapper "><div class="articleInfo-wrap" data-v-06225672><div class="articleInfo" data-v-06225672><ul class="breadcrumbs" data-v-06225672><li data-v-06225672><a href="/" title="首页" class="iconfont icon-home router-link-active" data-v-06225672></a></li> <li data-v-06225672><a href="/note/javascript/#《JavaScript》笔记" data-v-06225672>《JavaScript》笔记</a></li><li data-v-06225672><a href="/note/javascript/#解决方案" data-v-06225672>解决方案</a></li></ul> <div class="info" data-v-06225672><div title="作者" class="author iconfont icon-touxiang" data-v-06225672><a href="javascript:;" data-v-06225672>Jamey</a></div> <div title="创建时间" class="date iconfont icon-riqi" data-v-06225672><a href="javascript:;" data-v-06225672>2022-06-30</a></div> <!----></div></div></div> <!----> <div class="content-wrapper"><div class="right-menu-wrapper"><div class="right-menu-margin"><div class="right-menu-title">目录</div> <div class="right-menu-content"></div></div></div> <h1><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAeCAYAAAA7MK6iAAAAAXNSR0IArs4c6QAABH1JREFUSA3tVl1oHFUUPmdmd2ltklqbpJDiNnXFmgbFktho7YMPNiJSSZM0+CAYSkUELVhM6YuwIPpgoOKDqOBDC0XE2CQoNtQXBUFTTcCi+Wlh1V2TQExsUzcltd3M9Tt3ZjZzZ2fT+OJTL8yeM+eee757fmeJbq//KQL8X3DUSFOcfr7cRsRtxNQMWueeVzOkaITIGqQHNg5y8+jNW9ldM7A6nTpAjuolUikAwq7CE3WcM2RRDz+XGVgN3FptU/aUSlvq9Pa3iZ1+sgAqJyyAFqkipd9dqiwHF3P65YycLWc/6sqGrvoEoIp6DOFaX5h6+dnfjkWprwqsPk0dUGq5vySwDImC10KxFHgGL1SWoc92O3eVht09qdXNH11I2SsTsJYqMWzihqGMi+A+Garf3BAuuLI5oGlULyNfyB/HYNujwktOfRrMr5t77NmevqaUopx0grnKAyvVpmwUDB4x6FPXuGvYLTDwWsejwgtgkYKPqRJg8SV6xaiZ3ZTppGneS4yfH5/66fZSDHv+QZci/+h5c5UHtpy67JUqGppM0sh0Nc1dW6/N1W5Yoqat8/TU/VnadmdeW2PLLSyh0cvxBs3KbqTmwYPpxN4do/mzE8nEpvX/UMu2Wbp74zUAK5q6WkHns7V0eWkdPbPzd3rxkTGybadYySumVzhcaJFbs5UrEkQ/+CK8gF5dnh/6ciIZ73gwQ927L1IitoxKLXYP3SjYdOrHHfTZhRRlFyrorafPk20B3HPD1y2G3qKZME5Jcf3t/HUC13/8tSd++vqFveMUTwAUxSUFI1QekR1+bIze3D9MF2aq6cPvG72CgnldWCFqyRw3lwH8ZMerjTD9ElRO7Gv44wNpC90aASqGfVlz/Rx17srQ57/UU26hkhQqUB7dBR71WmzQhHUnblGmVOEw0jhbV1n9OlXUDCIRGaNV5Jp43N516fN7JmnTHdfp7Hgy0luO4aMhtkLL8Bi3bUWYvzh5Mn1dTxrL6QmGuRhGL/TiTTxRoEdTszSaq9GR0NGA3KdkOz3hqSV3MIDhQ5IVX/Ivx3umBti2es2h4eZby7x8br1rkf7Mo90AqC8aQ3sJeNzqFRu+vSANAQe3PL7l0HGOAdwDCeZYvNKeoZp1Qfs6Aipndh86HmFRi0LAnEO47wsqM6cdfjh3jBPUzhZy7nvlUfFsamED1VQt6aISHVymXZ/B2aCtIG8AI8xfobj2d3en1wWVhOeHELKmLQ1s211s88comkv4UCwWyF787mJdYXtNfhKAXVqnKTq8QZvGAGGOfaTo5pGZ/PwbUCr5+DPr/1J92JNHr9aOl/F3iI5+O1nfybsGxoimvZ3ViWSluDITw3P37mypheDIPY0tw7+O/5ApbkYw+zpfaUVu32Pi98+defdUhEpZkRFq0aqyNh9FuL9hpYbEm6iwi0z2REd09ZmyENEbuhjDWzKvZXTqKYaBIr3tt5kuPtQBZFvEUwHt60vfCNu41XsksH9Ij1BMMz1Y0OOunHNShFIP5868g5zeXmuLwL9T4b6Q2+KejgAAAABJRU5ErkJggg==">if-else 逻辑判断优化<!----></h1> <!----> <div class="theme-vdoing-content content__default"><h1 id="if-else-逻辑判断优化"><a href="#if-else-逻辑判断优化" class="header-anchor">#</a> if-else 逻辑判断优化</h1> <h2 id="📖-前言"><a href="#📖-前言" class="header-anchor">#</a> 📖. 前言</h2> <p>为什么要优化 <code>if else</code> 逻辑判断呢？我们应该如何去优化它呢？优化它有什么意义呢？</p> <p>在分享之前我们先看一段代码：</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token comment">// 贷款申请操作的处理</span>
<span class="token keyword">function</span> <span class="token function">check</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">// 是否输入正确用户名</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">checkUsername</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>username<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// 是否输入正确身份证号</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">checkIdCard</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>idCard<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token comment">// 请输入正确的电话号码</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">checkTel</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>tel<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">// 担保人是本人</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>dbr <span class="token operator">===</span> <span class="token string">&quot;担保人是本人&quot;</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
          <span class="token comment">// 是否存在身份证正面</span>
          <span class="token keyword">if</span> <span class="token punctuation">(</span>document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">&quot;.sfzzm img&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;存在身份证正面&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token comment">// 是否存在身份证反面</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span>document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">&quot;.sfzfm img&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
              console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;存在身份证反面&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
              <span class="token comment">// 是否存在学历证书</span>
              <span class="token keyword">if</span> <span class="token punctuation">(</span>document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">&quot;.xlzs img&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;存在学历证书&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>ydxy<span class="token punctuation">)</span> <span class="token punctuation">{</span>
                  <span class="token keyword">this</span><span class="token punctuation">.</span>tijiaoIsShow <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
                <span class="token punctuation">}</span>
              <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
                <span class="token function">Toast</span><span class="token punctuation">(</span><span class="token string">&quot;请上传学历证书&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token keyword">this</span><span class="token punctuation">.</span>tijiaoIsShow <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
              <span class="token punctuation">}</span>
            <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
              <span class="token function">Toast</span><span class="token punctuation">(</span><span class="token string">&quot;请上传身份证反面&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
          <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
            <span class="token function">Toast</span><span class="token punctuation">(</span><span class="token string">&quot;请上传身份证正面&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
          <span class="token punctuation">}</span>
        <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>dbr <span class="token operator">==</span> <span class="token string">&quot;担保人不是本人&quot;</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
          <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">checkUsername</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>dbrname<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">checkIdCard</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>dbridCard<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
              <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">checkTel</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>dbrzyzh<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                <span class="token keyword">if</span> <span class="token punctuation">(</span>document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">&quot;.sfzzm img&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;存在身份证正面&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                  <span class="token keyword">if</span> <span class="token punctuation">(</span>document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">&quot;.sfzfm img&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;存在身份证反面&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                    <span class="token keyword">if</span> <span class="token punctuation">(</span>document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">&quot;.xlzs img&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                      console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;存在学历证书&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                      <span class="token keyword">this</span><span class="token punctuation">.</span>tijiaoIsShow <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
                    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
                      <span class="token function">Toast</span><span class="token punctuation">(</span><span class="token string">&quot;请上传学历证书&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                    <span class="token punctuation">}</span>
                  <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
                    <span class="token function">Toast</span><span class="token punctuation">(</span><span class="token string">&quot;请上传身份证反面&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                  <span class="token punctuation">}</span>
                <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
                  <span class="token function">Toast</span><span class="token punctuation">(</span><span class="token string">&quot;请上传身份证正面&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token punctuation">}</span>
              <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
                <span class="token function">Toast</span><span class="token punctuation">(</span><span class="token string">&quot;请输入担保人展业证号&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
              <span class="token punctuation">}</span>
            <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
              <span class="token function">Toast</span><span class="token punctuation">(</span><span class="token string">&quot;请输入担保人身份证号&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
          <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
            <span class="token function">Toast</span><span class="token punctuation">(</span><span class="token string">&quot;请输入担保人姓名&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
          <span class="token punctuation">}</span>
        <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
          <span class="token function">Toast</span><span class="token punctuation">(</span><span class="token string">&quot;请选择担保人是否为本人&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
        <span class="token function">Toast</span><span class="token punctuation">(</span><span class="token string">&quot;请输入正确的电话号码&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
      <span class="token function">Toast</span><span class="token punctuation">(</span><span class="token string">&quot;请输入正确的身份证号&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
    <span class="token function">Toast</span><span class="token punctuation">(</span><span class="token string">&quot;请输入正确的姓名&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br><span class="line-number">55</span><br><span class="line-number">56</span><br><span class="line-number">57</span><br><span class="line-number">58</span><br><span class="line-number">59</span><br><span class="line-number">60</span><br><span class="line-number">61</span><br><span class="line-number">62</span><br><span class="line-number">63</span><br><span class="line-number">64</span><br><span class="line-number">65</span><br><span class="line-number">66</span><br><span class="line-number">67</span><br><span class="line-number">68</span><br><span class="line-number">69</span><br><span class="line-number">70</span><br><span class="line-number">71</span><br><span class="line-number">72</span><br><span class="line-number">73</span><br><span class="line-number">74</span><br></div></div><p>看完这样一个代码后，相信大家和我的心情是一样的：<strong>笑着活下去吧（绝望）</strong>。</p> <p>因为我们每次维护时要记住好几个逻辑判断分支，才能知道到底什么情况下才能得到那个结果，这种代码的可读性和可维护性自然就比较低了。</p> <p>那我这次分享的目的就是通过优化某种场景下的 <code>if else</code> 语句，使得优化后的代码看着比较清爽，从而提高代码的可读性和可维护性。</p> <p>那接下来我就带大家了解一下具体场景下的 <code>if else</code> 优化方法有哪些，先从简单的场景入手。</p> <h2 id="一-单个-if-语句优化策略"><a href="#一-单个-if-语句优化策略" class="header-anchor">#</a> 一. 单个 if 语句优化策略</h2> <p><strong>需求：</strong> 当条件为真时打印出日志内容。</p> <ul><li>优化前：</li></ul> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">let</span> flag <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
<span class="token keyword">if</span> <span class="token punctuation">(</span>flag<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token function">log</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">function</span> <span class="token function">log</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;如果flag值为真的时候打印这段文字&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><ul><li>优化后：</li></ul> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">let</span> flag <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
flag <span class="token operator">&amp;&amp;</span> <span class="token function">log</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">function</span> <span class="token function">log</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;如果flag值为真的时候打印这段文字&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><blockquote><p>好处：代码在一行很清晰，简洁，好读。</p></blockquote> <h2 id="二-单个-if-else-语句优化策略"><a href="#二-单个-if-else-语句优化策略" class="header-anchor">#</a> 二. 单个 if else 语句优化策略</h2> <h3 id="_1-提前-return"><a href="#_1-提前-return" class="header-anchor">#</a> 1. 提前 return</h3> <p><strong>需求：</strong> 执行登录操作，如果用户名和密码输入框为空，那么我们就提示用户 “用户名和密码不能为空” 类似信息；如果都不为空，那我们就执行登录操作。</p> <ul><li>优化前：</li></ul> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">let</span> user <span class="token operator">=</span> <span class="token string">&quot;silu&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> password <span class="token operator">=</span> <span class="token string">&quot;solution&quot;</span><span class="token punctuation">;</span>

<span class="token keyword">if</span> <span class="token punctuation">(</span>user <span class="token operator">&amp;&amp;</span> password<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">// 执行登录操作</span>
<span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token string">&quot;用户名和密码不能为空&quot;</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><ul><li>优化后：排非策略，先排除为 false 的情形，通过后再执行 true 时的业务逻辑。</li></ul> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">let</span> user <span class="token operator">=</span> <span class="token string">&quot;silu&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> password <span class="token operator">=</span> <span class="token string">&quot;solution&quot;</span><span class="token punctuation">;</span>

<span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>user <span class="token operator">||</span> <span class="token operator">!</span>password<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token string">&quot;用户名和密码不能为空&quot;</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token comment">// 执行登录操作</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><blockquote><p>好处：可以干掉 <code>else</code>，减少代码分支，提高代码的可维护性和可阅读性。</p></blockquote> <h3 id="_2-使用条件三目运算符"><a href="#_2-使用条件三目运算符" class="header-anchor">#</a> 2. 使用条件三目运算符</h3> <p>使用场景：在不影响可读性的情况下，处理 <code>if else</code> 分支下简短的返回值，单个简短赋值语句，调用单个相应函数时，建议使用三目运算符。</p> <p><strong>示例一：</strong> <code>if else</code> 分支下简短返回值</p> <ul><li>优化前：</li></ul> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">function</span> <span class="token function">demo</span><span class="token punctuation">(</span><span class="token parameter">flag</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>flag<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token string">&quot;true&quot;</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token string">&quot;false&quot;</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><ul><li>优化后：</li></ul> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">function</span> <span class="token function">demo</span><span class="token punctuation">(</span><span class="token parameter">flag</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> flag <span class="token operator">?</span> <span class="token string">&quot;true&quot;</span> <span class="token operator">:</span> <span class="token string">&quot;false&quot;</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p><strong>示例二：</strong> <code>if else</code> 分支下简短赋值</p> <ul><li>优化前：</li></ul> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">function</span> <span class="token function">demo</span><span class="token punctuation">(</span><span class="token parameter">flag</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">let</span> val <span class="token operator">=</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">;</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>flag<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    val <span class="token operator">=</span> <span class="token string">&quot;true&quot;</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
    val <span class="token operator">=</span> <span class="token string">&quot;false&quot;</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><ul><li>优化后：</li></ul> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">function</span> <span class="token function">demo</span><span class="token punctuation">(</span><span class="token parameter">flag</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">let</span> val <span class="token operator">=</span> flag <span class="token operator">?</span> <span class="token string">&quot;true&quot;</span> <span class="token operator">:</span> <span class="token string">&quot;false&quot;</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p><strong>示例三：</strong> <code>if else</code> 分支下调用单个函数</p> <ul><li>优化前：</li></ul> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">function</span> <span class="token function">demo</span><span class="token punctuation">(</span><span class="token parameter">flag</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>flag<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token function">success</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
    <span class="token function">fail</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><ul><li>优化后：</li></ul> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">function</span> <span class="token function">demo</span><span class="token punctuation">(</span><span class="token parameter">flag</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  flag <span class="token operator">?</span> <span class="token function">success</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">:</span> <span class="token function">fail</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><blockquote><p>好处：在以上场景中，使用条件三目运算符相比 <code>if else</code> 来说，语句在一行中书写，代码非常精炼，执行效率更高。</p></blockquote> <h2 id="三-多个-if-else-嵌套优化策略"><a href="#三-多个-if-else-嵌套优化策略" class="header-anchor">#</a> 三. 多个 if else 嵌套优化策略</h2> <p><strong>需求：</strong> 后端大哥说了，给你返回的数据里面如果有 <code>userInfo</code> 字段，并且 <code>userInfo</code> 下面有 <code>hobby</code> 字段并且有值就显示 <code>hobby</code> 里面的内容，否则页面 <code>hobby</code> 这一块不显示。</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">let</span> result <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">status</span><span class="token operator">:</span> <span class="token number">200</span><span class="token punctuation">,</span>
  <span class="token literal-property property">msg</span><span class="token operator">:</span> <span class="token string">&quot;success&quot;</span><span class="token punctuation">,</span>
  <span class="token literal-property property">data</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">userInfo</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">&quot;doudou&quot;</span><span class="token punctuation">,</span>
      <span class="token literal-property property">hobby</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&quot;吃饭&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;睡觉&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;打豆豆&quot;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><p>一般写法：“金字塔一样的 <code>if else</code> 嵌套”</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">if</span> <span class="token punctuation">(</span>result<span class="token punctuation">.</span>data<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>result<span class="token punctuation">.</span>data<span class="token punctuation">.</span>userInfo<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>Array<span class="token punctuation">.</span><span class="token function">isArray</span><span class="token punctuation">(</span>result<span class="token punctuation">.</span>data<span class="token punctuation">.</span>userInfo<span class="token punctuation">.</span>hobby<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span>result<span class="token punctuation">.</span>data<span class="token punctuation">.</span>userInfo<span class="token punctuation">.</span>hobby<span class="token punctuation">.</span>length<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">// 进行业务逻辑操作</span>
      <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token string">&quot;hobby字段为空&quot;</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
      <span class="token keyword">return</span> <span class="token string">&quot;hobby字段不是一个数组&quot;</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token string">&quot;userInfo字段不存在&quot;</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token string">&quot;data字段不存在&quot;</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br></div></div><blockquote><p>但 <code>if else</code> 一般不建议嵌套超过三层，如果一段代码存在过多的 <code>if else</code> 嵌套，代码的可读性就会急速下降，后期维护难度也大大提高。所以，我们写这种代码时都应该尽量避免过多的 <code>if else</code>嵌套。
下面我就开始分享几个可以减少 <code>if else</code> 嵌套的方法。</p></blockquote> <h3 id="_1-第一种优化"><a href="#_1-第一种优化" class="header-anchor">#</a> 1. 第一种优化：</h3> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>result<span class="token punctuation">.</span>data<span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token string">&quot;data字段不存在&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>result<span class="token punctuation">.</span>data<span class="token punctuation">.</span>userInfo<span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token string">&quot;userInfo字段不存在&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>Array<span class="token punctuation">.</span><span class="token function">isArray</span><span class="token punctuation">(</span>result<span class="token punctuation">.</span>data<span class="token punctuation">.</span>userInfo<span class="token punctuation">.</span>boddy<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token string">&quot;hobby字段不是一个数组&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">if</span> <span class="token punctuation">(</span>result<span class="token punctuation">.</span>data<span class="token punctuation">.</span>userInfo<span class="token punctuation">.</span>hobby<span class="token punctuation">.</span>length<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">// 进行业务逻辑操作</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><blockquote><p>遵循的一般规则是，当发现无效条件时，提前返回。</p> <p>好处：对于多层的 if 嵌套，使用此方法，代码看起来更简洁，可读性高，增强了代码的可维护性。</p></blockquote> <h3 id="_2-第二种优化"><a href="#_2-第二种优化" class="header-anchor">#</a> 2. 第二种优化：</h3> <blockquote><p>适合严谨又懒的前端</p></blockquote> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">try</span> <span class="token punctuation">{</span>
  <span class="token comment">// 有可能出现错误的代码写在这里</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>result<span class="token punctuation">.</span>data<span class="token punctuation">.</span>userInfo<span class="token punctuation">.</span>hobby<span class="token punctuation">.</span>length<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// 进行业务逻辑操作</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span>error<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">// 出错后的处理写在这里</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><blockquote><p>采取的 <code>try catch</code> 策略。</p> <p>如果 <code>try</code> 中的代码没有出错，则程序正常运行 <code>try</code> 中的内容后，不会执行 <code>catch</code> 中的内容。</p> <p>如果 <code>try</code> 中的代码一但出错，程序立即跳入 <code>catch</code> 中去执行代码，那么 <code>try</code> 中代码出错后的程序就不再执行了。</p></blockquote> <h3 id="_3-第三种优化"><a href="#_3-第三种优化" class="header-anchor">#</a> 3. 第三种优化：</h3> <p>使用可选链（<code>optional chaining</code>)：我们都知道如果我们对一个空值进行属性读取的时候，程序会抛出异常。就像上面那个例子，在多级嵌套的对象中取属性值的时候更容易出现这个问题。那么我们为了保证程序的健壮性，
就需要确保对象不为空时再读取下一级的值。</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token comment">// 可选链优化</span>
<span class="token keyword">if</span> <span class="token punctuation">(</span>result<span class="token operator">?.</span>data<span class="token operator">?.</span>userInfo<span class="token operator">?.</span>hobby<span class="token operator">?.</span>length<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">// 进行业务逻辑操作</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><blockquote><p>再也不用为了解决容错而写过多重复代码了， 操作符 <code>*?.*</code> 会检查操作符左边的值是否是空值。如果是 <code>null</code> 或 <code>undefined</code>，这个表达式就终止然后返回 <code>undefined</code>。否则，这个表达式继续执行检查。</p></blockquote> <blockquote><p><strong>可选链操作符</strong>( <code>?.</code> )，当尝试访问可能不存在的对象属性时，可选链操作符将会使表达式更短、更简明 。</p></blockquote> <h2 id="四-多个-else-if-分支优化策略"><a href="#四-多个-else-if-分支优化策略" class="header-anchor">#</a> 四. 多个 else if 分支优化策略</h2> <p><strong>需求：</strong> 有多个按钮，点击按钮执行相应业务逻辑操作。</p> <p>按钮点击后根据按钮的不同 <code>type</code> 分别做两件事，第一、打印出对应日志，第二、跳转到对应的页面。</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token comment">/**
 * 按钮点击事件
 * @param { string } type → 1.女装 2.男装 3.童装 4.美妆 5.箱包
 */</span>

<span class="token keyword">const</span> <span class="token function-variable function">onButtonClick</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">type</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>type <span class="token operator">===</span> <span class="token string">&quot;1&quot;</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token function">showLog</span><span class="token punctuation">(</span><span class="token string">&quot;女装&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">jumpTo</span><span class="token punctuation">(</span><span class="token string">&quot;womenPage&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>type <span class="token operator">===</span> <span class="token string">&quot;2&quot;</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token function">showLog</span><span class="token punctuation">(</span><span class="token string">&quot;男装&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">jumpTo</span><span class="token punctuation">(</span><span class="token string">&quot;menPage&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>type <span class="token operator">===</span> <span class="token string">&quot;3&quot;</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token function">showLog</span><span class="token punctuation">(</span><span class="token string">&quot;童装&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">jumpTo</span><span class="token punctuation">(</span><span class="token string">&quot;childPage&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>type <span class="token operator">===</span> <span class="token string">&quot;4&quot;</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token function">showLog</span><span class="token punctuation">(</span><span class="token string">&quot;美妆&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">jumpTo</span><span class="token punctuation">(</span><span class="token string">&quot;makeupPage&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>type <span class="token operator">===</span> <span class="token string">&quot;5&quot;</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token function">showLog</span><span class="token punctuation">(</span><span class="token string">&quot;箱包&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">jumpTo</span><span class="token punctuation">(</span><span class="token string">&quot;bagPage&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
    <span class="token function">showLog</span><span class="token punctuation">(</span><span class="token string">&quot;推荐好物&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">jumpTo</span><span class="token punctuation">(</span><span class="token string">&quot;recommendPage&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br></div></div><p>多数新人在工作中常用 <code>switch case</code> 进行改写。</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token comment">/**
 * 按钮点击事件
 * @param { string } type → 1.女装 2.男装 3.童装 4.美妆 5.箱包
 */</span>
<span class="token keyword">const</span> <span class="token function-variable function">onButtonClick</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">type</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">switch</span> <span class="token punctuation">(</span>type<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">case</span> <span class="token string">&quot;1&quot;</span><span class="token operator">:</span>
      <span class="token function">showLog</span><span class="token punctuation">(</span><span class="token string">&quot;女装&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token function">jumpTo</span><span class="token punctuation">(</span><span class="token string">&quot;womenPage&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token keyword">break</span><span class="token punctuation">;</span>
    <span class="token keyword">case</span> <span class="token string">&quot;2&quot;</span><span class="token operator">:</span>
      <span class="token function">showLog</span><span class="token punctuation">(</span><span class="token string">&quot;男装&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token function">jumpTo</span><span class="token punctuation">(</span><span class="token string">&quot;menPage&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token keyword">break</span><span class="token punctuation">;</span>
    <span class="token keyword">case</span> <span class="token string">&quot;3&quot;</span><span class="token operator">:</span>
      <span class="token function">showLog</span><span class="token punctuation">(</span><span class="token string">&quot;童装&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token function">jumpTo</span><span class="token punctuation">(</span><span class="token string">&quot;childPage&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token keyword">break</span><span class="token punctuation">;</span>
    <span class="token keyword">case</span> <span class="token string">&quot;4&quot;</span><span class="token operator">:</span>
      <span class="token function">showLog</span><span class="token punctuation">(</span><span class="token string">&quot;美妆&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token function">jumpTo</span><span class="token punctuation">(</span><span class="token string">&quot;makeupPage&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token keyword">break</span><span class="token punctuation">;</span>
    <span class="token keyword">case</span> <span class="token string">&quot;5&quot;</span><span class="token operator">:</span>
      <span class="token function">showLog</span><span class="token punctuation">(</span><span class="token string">&quot;箱包&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token function">jumpTo</span><span class="token punctuation">(</span><span class="token string">&quot;bagPage&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token keyword">break</span><span class="token punctuation">;</span>
    <span class="token keyword">default</span><span class="token operator">:</span>
      <span class="token function">showLog</span><span class="token punctuation">(</span><span class="token string">&quot;推荐好物&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token function">jumpTo</span><span class="token punctuation">(</span><span class="token string">&quot;recommendPage&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br></div></div><blockquote><p><strong>注：</strong> 不要忘记在每个 <code>case</code> 语句后放一个 <code>break</code>，<code>case</code> 语句只是指明了想要执行代码的起点，并没有指明终点，如果没有在 <code>case</code> 语句中添加 <code>break</code> 语句，没有明确的中断流程，在每次条件判断后都会执行下次判断条件，
可能会造成逻辑混乱。</p></blockquote> <p>使用 <code>switch case</code> 后的语句的确比 <code>if else</code> 看着清晰易读了些，但是当需求增多后代码看起来还是那么的臃肿，似乎并没有从根本上解决问题，和 <code>if else</code> 的写法对比也不是很明显的提高。</p> <p>那接下来我们就换种方法,借助对象的 <code>{key，value}</code> 结构优化</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">const</span> actions <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token number">1</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&quot;女装&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;womenPage&quot;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token number">2</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&quot;男装&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;menPage&quot;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token number">3</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&quot;童装&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;childPage&quot;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token number">4</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&quot;美妆&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;makeupPage&quot;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token number">5</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&quot;箱包&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;bagPage&quot;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token keyword">default</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&quot;推荐好物&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;recommendPage&quot;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token comment">/**
 * 按钮点击事件
 * @param { string } type → 1.女装 2.男装 3.童装 4.美妆 5.箱包
 */</span>
<span class="token keyword">function</span> <span class="token function">onButtonClick</span><span class="token punctuation">(</span><span class="token parameter">type</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">let</span> action <span class="token operator">=</span> actions<span class="token punctuation">[</span>type<span class="token punctuation">]</span> <span class="token operator">||</span> actions<span class="token punctuation">[</span><span class="token string">&quot;default&quot;</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
  <span class="token comment">// 打印日志</span>
  <span class="token function">showLog</span><span class="token punctuation">(</span>action<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token comment">// 跳转页面</span>
  <span class="token function">jumpTo</span><span class="token punctuation">(</span>action<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br></div></div><blockquote><p>借助对象结构的这种写法，把判断条件作为对象的属性名，处理逻辑要传入的参数作为对象的属性值，在执行按钮点击事件时通过查询对象中的键，获取到键对应的值，然后执行对应的处理逻辑。这种写法非常的适合一元条件判断的情况。</p></blockquote> <p>Q：那除了借助对象结构来实现优化，还有其它方法吗？</p> <p>A：我们还可以借助 ES6 中的 <code>Map</code> 数据结构来优化 ；</p> <p>Map 对象保存键值对。任何类型值(对象或者原始值) 都可以作为一个键或一个值。</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">const</span> actions <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Map</span><span class="token punctuation">(</span><span class="token punctuation">[</span>
  <span class="token punctuation">[</span><span class="token string">&quot;1&quot;</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token string">&quot;女装&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;womenPage&quot;</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">[</span><span class="token string">&quot;2&quot;</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token string">&quot;男装&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;menPage&quot;</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">[</span><span class="token string">&quot;3&quot;</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token string">&quot;童装&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;childPage&quot;</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">[</span><span class="token string">&quot;4&quot;</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token string">&quot;美妆&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;makeupPage&quot;</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">[</span><span class="token string">&quot;5&quot;</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token string">&quot;箱包&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;bagPage&quot;</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">[</span><span class="token string">&quot;default&quot;</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token string">&quot;推荐好物&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;recommendPage&quot;</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">/**
 * 按钮点击事件
 * @param { string } type → 1.女装 2.男装 3.童装 4.美妆 5.箱包
 */</span>
<span class="token keyword">function</span> <span class="token function">onButtonClick</span><span class="token punctuation">(</span><span class="token parameter">type</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">let</span> action <span class="token operator">=</span> actions<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span>type<span class="token punctuation">)</span> <span class="token operator">||</span> actions<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">&quot;default&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token function">showLog</span><span class="token punctuation">(</span>action<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token function">jumpTo</span><span class="token punctuation">(</span>action<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br></div></div><blockquote><p>上面用到了 es6 里的 <code>Map</code> 对象。<code>Map</code> 对象和 <code>Object</code> 对象的区别:</p> <ol><li>一个 <code>Object</code> 的键只能是字符串或者 <code>Symbols</code>，但一个 <code>Map</code> 的键可以是任意值。</li> <li><code>Map</code> 中的键值是有序的（FIFO 原则），而添加到对象中的键则不是。</li> <li><code>Map</code>  的键值对个数可以从 size 属性获取，而 <code>Object</code> 的键值对个数只能手动计算。</li></ol></blockquote> <p>如果我们把问题再升级一下，在点击按钮时不仅要判断 <code>type</code>，还要判断用户的身份——男用户 或 女用户。</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token comment">/**
 * 按钮点击事件
 * @param { string } type → 1.女装 2.男装 3.童装 4.美妆 5.箱包
 * @param { string } sex → 男用户 or 女用户
 */</span>
<span class="token keyword">function</span> <span class="token function">onButtonClick</span><span class="token punctuation">(</span><span class="token parameter">type<span class="token punctuation">,</span> sex</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>sex <span class="token operator">===</span> <span class="token string">&quot;women&quot;</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>type <span class="token operator">===</span> <span class="token string">&quot;1&quot;</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token comment">// do something</span>
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>type <span class="token operator">===</span> <span class="token string">&quot;2&quot;</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token comment">// do something</span>
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>type <span class="token operator">===</span> <span class="token string">&quot;3&quot;</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token comment">// do something</span>
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>type <span class="token operator">===</span> <span class="token string">&quot;4&quot;</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token comment">// do something</span>
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>type <span class="token operator">===</span> <span class="token string">&quot;5&quot;</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token comment">// do something</span>
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
      <span class="token comment">// do something</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>sex <span class="token operator">===</span> <span class="token string">&quot;men&quot;</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>type <span class="token operator">===</span> <span class="token string">&quot;1&quot;</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token comment">// do something</span>
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>type <span class="token operator">===</span> <span class="token string">&quot;2&quot;</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token comment">// do something</span>
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>type <span class="token operator">===</span> <span class="token string">&quot;3&quot;</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token comment">// do something</span>
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>type <span class="token operator">===</span> <span class="token string">&quot;4&quot;</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token comment">// do something</span>
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>type <span class="token operator">===</span> <span class="token string">&quot;5&quot;</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token comment">// do something</span>
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
      <span class="token comment">// do something</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br></div></div><p>从上方示例代码中可以看出，如果判断条件变为二元条件判断时，<code>if else</code> 的数量就增加到一元判断条件的二倍，代码看着更臃肿了。那么对于二元的条件判断我们应该怎么去优化它们呢？</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">const</span> actions <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Map</span><span class="token punctuation">(</span><span class="token punctuation">[</span>
  <span class="token punctuation">[</span> <span class="token string">&quot;women_1&quot;</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span> <span class="token comment">/* do something */</span> <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">[</span> <span class="token string">&quot;women_2&quot;</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span> <span class="token comment">/* do something */</span> <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">[</span> <span class="token string">&quot;women_3&quot;</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span> <span class="token comment">/* do something */</span> <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">[</span> <span class="token string">&quot;women_4&quot;</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span> <span class="token comment">/* do something */</span> <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">[</span> <span class="token string">&quot;women_5&quot;</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span> <span class="token comment">/* do something */</span> <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">[</span> <span class="token string">&quot;men_1&quot;</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span> <span class="token comment">/* do something */</span> <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">[</span> <span class="token string">&quot;men_2&quot;</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span> <span class="token comment">/* do something */</span> <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">[</span> <span class="token string">&quot;men_3&quot;</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span> <span class="token comment">/* do something */</span> <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">[</span> <span class="token string">&quot;men_4&quot;</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span> <span class="token comment">/* do something */</span> <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">[</span> <span class="token string">&quot;men_5&quot;</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span> <span class="token comment">/* do something */</span> <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">[</span> <span class="token string">&quot;default&quot;</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span> <span class="token comment">/* do something */</span> <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">]</span><span class="token punctuation">,</span>
<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">/**
 * 按钮点击事件
 * @param { string } type → 1.女装 2.男装 3.童装 4.美妆 5.箱包
 * @param { string } sex → 男用户 or 女用户
 */</span>
<span class="token keyword">function</span> <span class="token function">onButtonClick</span><span class="token punctuation">(</span><span class="token parameter">type<span class="token punctuation">,</span> sex</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">let</span> action <span class="token operator">=</span> actions<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">$(sex)_$(type)</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span> <span class="token operator">||</span> actions<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">&quot;default&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token function">action</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br></div></div><blockquote><p>上面这种处理思想是，把条件判断拼接成字符串作为键，每个分支下的处理逻辑作为值，在使用时传入参数使用 <code>Map</code> 查询，这种方法非常适合于二元或多元条件判断。</p></blockquote> <p>如果你不喜欢把查询条件拼接为字符串使用，这还有一种方法，把查询条件作为对象，借助 <code>Map</code> 数据结构实现。</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">const</span> actions <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Map</span><span class="token punctuation">(</span><span class="token punctuation">[</span>
  <span class="token punctuation">[</span> <span class="token punctuation">{</span> <span class="token literal-property property">sex</span><span class="token operator">:</span> <span class="token string">&quot;women&quot;</span><span class="token punctuation">,</span> <span class="token literal-property property">type</span><span class="token operator">:</span> <span class="token string">&quot;1&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span> <span class="token comment">/* do something */</span> <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">[</span> <span class="token punctuation">{</span> <span class="token literal-property property">sex</span><span class="token operator">:</span> <span class="token string">&quot;women&quot;</span><span class="token punctuation">,</span> <span class="token literal-property property">type</span><span class="token operator">:</span> <span class="token string">&quot;2&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span> <span class="token comment">/* do something */</span> <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">[</span> <span class="token punctuation">{</span> <span class="token literal-property property">sex</span><span class="token operator">:</span> <span class="token string">&quot;women&quot;</span><span class="token punctuation">,</span> <span class="token literal-property property">type</span><span class="token operator">:</span> <span class="token string">&quot;3&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span> <span class="token comment">/* do something */</span> <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">[</span> <span class="token punctuation">{</span> <span class="token literal-property property">sex</span><span class="token operator">:</span> <span class="token string">&quot;women&quot;</span><span class="token punctuation">,</span> <span class="token literal-property property">type</span><span class="token operator">:</span> <span class="token string">&quot;4&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span> <span class="token comment">/* do something */</span> <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">[</span> <span class="token punctuation">{</span> <span class="token literal-property property">sex</span><span class="token operator">:</span> <span class="token string">&quot;women&quot;</span><span class="token punctuation">,</span> <span class="token literal-property property">type</span><span class="token operator">:</span> <span class="token string">&quot;5&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span> <span class="token comment">/* do something */</span> <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">[</span> <span class="token punctuation">{</span> <span class="token literal-property property">sex</span><span class="token operator">:</span> <span class="token string">&quot;men&quot;</span><span class="token punctuation">,</span> <span class="token literal-property property">type</span><span class="token operator">:</span> <span class="token string">&quot;1&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span> <span class="token comment">/* do something */</span> <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">[</span> <span class="token punctuation">{</span> <span class="token literal-property property">sex</span><span class="token operator">:</span> <span class="token string">&quot;men&quot;</span><span class="token punctuation">,</span> <span class="token literal-property property">type</span><span class="token operator">:</span> <span class="token string">&quot;2&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span> <span class="token comment">/* do something */</span> <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">[</span> <span class="token punctuation">{</span> <span class="token literal-property property">sex</span><span class="token operator">:</span> <span class="token string">&quot;men&quot;</span><span class="token punctuation">,</span> <span class="token literal-property property">type</span><span class="token operator">:</span> <span class="token string">&quot;3&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span> <span class="token comment">/* do something */</span> <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">[</span> <span class="token punctuation">{</span> <span class="token literal-property property">sex</span><span class="token operator">:</span> <span class="token string">&quot;men&quot;</span><span class="token punctuation">,</span> <span class="token literal-property property">type</span><span class="token operator">:</span> <span class="token string">&quot;4&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span> <span class="token comment">/* do something */</span> <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">[</span> <span class="token punctuation">{</span> <span class="token literal-property property">sex</span><span class="token operator">:</span> <span class="token string">&quot;men&quot;</span><span class="token punctuation">,</span> <span class="token literal-property property">type</span><span class="token operator">:</span> <span class="token string">&quot;5&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span> <span class="token comment">/* do something */</span> <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">[</span> <span class="token string">&quot;default&quot;</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span> <span class="token comment">/* do something */</span> <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">]</span><span class="token punctuation">,</span>
<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">/**
 * 按钮点击事件
 * @param { string } type → 1.女装 2.男装 3.童装 4.美妆 5.箱包
 * @param { string } sex → 男用户 or 女用户
 */</span>
<span class="token keyword">function</span> <span class="token function">onButtonClick</span><span class="token punctuation">(</span><span class="token parameter">type<span class="token punctuation">,</span> sex</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">// 根据条件使用filter查询</span>
  <span class="token keyword">let</span> action <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token operator">...</span>actions<span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">filter</span><span class="token punctuation">(</span>
    <span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">[</span>key<span class="token punctuation">,</span> value<span class="token punctuation">]</span></span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> key<span class="token punctuation">.</span>sex <span class="token operator">===</span> sex <span class="token operator">&amp;&amp;</span> key<span class="token punctuation">.</span>type <span class="token operator">===</span> type
  <span class="token punctuation">)</span><span class="token punctuation">;</span>
  action<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">[</span>key<span class="token punctuation">,</span> value<span class="token punctuation">]</span></span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token function">value</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">/**
 * 按钮点击事件
 * @param { string } type → 1.女装 2.男装 3.童装 4.美妆 5.箱包
 * @param { string } sex → 男用户 or 女用户
 */</span>
<span class="token keyword">function</span> <span class="token function">onButtonClick</span><span class="token punctuation">(</span><span class="token parameter">type<span class="token punctuation">,</span> sex</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">// 根据条件使用find查询</span>
  <span class="token keyword">let</span> action <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token operator">...</span>actions<span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">find</span><span class="token punctuation">(</span>
    <span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">[</span>key<span class="token punctuation">,</span> value<span class="token punctuation">]</span></span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> key<span class="token punctuation">.</span>sex <span class="token operator">===</span> sex <span class="token operator">&amp;&amp;</span> key<span class="token punctuation">.</span>type <span class="token operator">===</span> type
  <span class="token punctuation">)</span><span class="token punctuation">;</span>
  action<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br></div></div><p>上方在执行按钮点击事件时，根据条件查询相应执行逻辑时，提供了 <code>filter</code> 和 <code>find</code> 两种查询方式，个人觉得使用 <code>filter</code> 更为正式，使用 <code>find</code> 更容易阅读，当然你也可以使用其它方法啦~</p> <blockquote><p>从这里我们就看出了使用 <code>Map</code> 相对于 <code>Object</code> 存在的优势了，<code>Map</code> 数据结构可以以任意类型的值作为 key。</p></blockquote> <p>假如在 women 情况下，type 为 1,2,3,4 时的处理逻辑都一样该怎么写呢？</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">const</span> actions <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Map</span><span class="token punctuation">(</span><span class="token punctuation">[</span>
  <span class="token punctuation">[</span> <span class="token punctuation">{</span> <span class="token literal-property property">sex</span><span class="token operator">:</span> <span class="token string">&quot;women&quot;</span><span class="token punctuation">,</span> <span class="token literal-property property">type</span><span class="token operator">:</span> <span class="token string">&quot;1&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span> <span class="token comment">/* 执行A逻辑 */</span> <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">[</span> <span class="token punctuation">{</span> <span class="token literal-property property">sex</span><span class="token operator">:</span> <span class="token string">&quot;women&quot;</span><span class="token punctuation">,</span> <span class="token literal-property property">type</span><span class="token operator">:</span> <span class="token string">&quot;2&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span> <span class="token comment">/* 执行A逻辑 */</span> <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">[</span> <span class="token punctuation">{</span> <span class="token literal-property property">sex</span><span class="token operator">:</span> <span class="token string">&quot;women&quot;</span><span class="token punctuation">,</span> <span class="token literal-property property">type</span><span class="token operator">:</span> <span class="token string">&quot;3&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span> <span class="token comment">/* 执行A逻辑 */</span> <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">[</span> <span class="token punctuation">{</span> <span class="token literal-property property">sex</span><span class="token operator">:</span> <span class="token string">&quot;women&quot;</span><span class="token punctuation">,</span> <span class="token literal-property property">type</span><span class="token operator">:</span> <span class="token string">&quot;4&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span> <span class="token comment">/* 执行A逻辑 */</span> <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">[</span> <span class="token punctuation">{</span> <span class="token literal-property property">sex</span><span class="token operator">:</span> <span class="token string">&quot;women&quot;</span><span class="token punctuation">,</span> <span class="token literal-property property">type</span><span class="token operator">:</span> <span class="token string">&quot;5&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span> <span class="token comment">/* 执行B逻辑 */</span> <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token comment">// ……</span>
<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><p>这样写的话 <code>Map</code> 里面就会显得比较臃肿，具体的执行逻辑处理过程都放在了 Map 里面。好点的写法可以是这样子。</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">const</span> <span class="token function-variable function">logicA</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token comment">/* 执行A逻辑 */</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> <span class="token function-variable function">logicB</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token comment">/* 执行B逻辑 */</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> actions <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Map</span><span class="token punctuation">(</span><span class="token punctuation">[</span>
  <span class="token punctuation">[</span><span class="token punctuation">{</span> <span class="token literal-property property">sex</span><span class="token operator">:</span> <span class="token string">&quot;women&quot;</span><span class="token punctuation">,</span> <span class="token literal-property property">type</span><span class="token operator">:</span> <span class="token string">&quot;1&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span> logicA<span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">[</span><span class="token punctuation">{</span> <span class="token literal-property property">sex</span><span class="token operator">:</span> <span class="token string">&quot;women&quot;</span><span class="token punctuation">,</span> <span class="token literal-property property">type</span><span class="token operator">:</span> <span class="token string">&quot;2&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span> logicA<span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">[</span><span class="token punctuation">{</span> <span class="token literal-property property">sex</span><span class="token operator">:</span> <span class="token string">&quot;women&quot;</span><span class="token punctuation">,</span> <span class="token literal-property property">type</span><span class="token operator">:</span> <span class="token string">&quot;3&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span> logicA<span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">[</span><span class="token punctuation">{</span> <span class="token literal-property property">sex</span><span class="token operator">:</span> <span class="token string">&quot;women&quot;</span><span class="token punctuation">,</span> <span class="token literal-property property">type</span><span class="token operator">:</span> <span class="token string">&quot;4&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span> logicA<span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">[</span><span class="token punctuation">{</span> <span class="token literal-property property">sex</span><span class="token operator">:</span> <span class="token string">&quot;women&quot;</span><span class="token punctuation">,</span> <span class="token literal-property property">type</span><span class="token operator">:</span> <span class="token string">&quot;5&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span> logicB<span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token comment">// ……</span>
<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br></div></div><p>上面的写法虽然 <code>Map</code> 中结构清晰了，日常需求的话可以这么写也是没什么问题的。但是，如果以后增加需求，women 条件下 type 为 6、7、8、10、11……的逻辑处理都是一样的。那么我们还要像上方那样的写法在 Map 中一一增加同样的执行逻辑吗？</p> <p>显然，这样的话会变得比较繁琐，那么我们还有其它办法来应对这种情况吗？</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">function</span> <span class="token function">actions</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> <span class="token function-variable function">logicA</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token comment">/* 执行A逻辑 */</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>
  <span class="token keyword">const</span> <span class="token function-variable function">logicB</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token comment">/* 执行B逻辑 */</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>
  <span class="token keyword">const</span> action <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Map</span><span class="token punctuation">(</span><span class="token punctuation">[</span>
    <span class="token punctuation">[</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">^women_[1-4]$</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span> logicA<span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token punctuation">[</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">^women_5$</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span> logicB<span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token comment">// ……</span>
  <span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br></div></div><blockquote><p>利用正则进行判断条件匹配后，代码又清爽了许多。并且这里使用 <code>Map</code> 后的优势就更加的明显了，符合正则的条件的公共逻辑都会执行。</p></blockquote> <div class="custom-block note"><p class="custom-block-title">总结</p> <p>总结下这部分的内容：</p> <ol><li>一元条件判断：存到 <code>Object</code> 中。</li> <li>一元条件判断：存到 <code>Map</code> 中。</li> <li>二元或多元判断：将判断条件拼接成字符串存到 <code>Object</code> 中。</li> <li>二元或多元判断：将判断条件拼接成字符串存到 <code>Map</code> 中。</li> <li>多元判断时：将判断条件写成 Object 存到 <code>Map</code> 中。</li> <li>多元判断时：将判断条件写成正则存到 <code>Map</code> 中。</li></ol></div> <h2 id="五-使用数组新特性优化逻辑判断"><a href="#五-使用数组新特性优化逻辑判断" class="header-anchor">#</a> 五. 使用数组新特性优化逻辑判断</h2> <p>在工作中，巧妙的使用 ES6 中提供的数组新特性，也可以达到轻松优化逻辑判断的效果。</p> <h3 id="_1-使用-includes-优化代码逻辑"><a href="#_1-使用-includes-优化代码逻辑" class="header-anchor">#</a> 1. 使用 includes 优化代码逻辑</h3> <p><strong>需求：</strong> 判断 <code>animal</code> 是否属于 <code>cute</code> 类型。</p> <p>当我们遇到多条件判断时，本能的写下以下代码。</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">const</span> cuteAnimal <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">&quot;dog&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;cat&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;bird&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;panda&quot;</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token keyword">function</span> <span class="token function">animalJudge</span><span class="token punctuation">(</span><span class="token parameter">animal</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>
    animal <span class="token operator">===</span> <span class="token string">&quot;dog&quot;</span> <span class="token operator">||</span>
    animal <span class="token operator">===</span> <span class="token string">&quot;cat&quot;</span> <span class="token operator">||</span>
    animal <span class="token operator">===</span> <span class="token string">&quot;bird&quot;</span> <span class="token operator">||</span>
    animal <span class="token operator">===</span> <span class="token string">&quot;panda&quot;</span>
  <span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;可爱的小动物&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><blockquote><p>但是当 <code>cuteAnimal</code> 的种类多达十几种或者是更多的时候，我们就只能通过这种||的形式去维护吗？</p></blockquote> <p>这时候我们可以试着使用 <code>includes</code> 方法。</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">const</span> cuteAnimal <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">&quot;dog&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;cat&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;bird&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;panda&quot;</span><span class="token punctuation">]</span><span class="token punctuation">;</span>

<span class="token keyword">function</span> <span class="token function">animalJudge</span><span class="token punctuation">(</span><span class="token parameter">animal</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>cuteAnimal<span class="token punctuation">.</span><span class="token function">includes</span><span class="token punctuation">(</span>animal<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;可爱的小动物&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><blockquote><p>这个时候后期维护的话，增加动物类型时只需要在 <code>cuteAnimal</code> 数组中增加，当类型数量多时，代码看起来还是很简洁，不像上面使用很多 <code>||</code> 那么杂乱</p></blockquote> <h3 id="_2-使用-every-优化代码逻辑"><a href="#_2-使用-every-优化代码逻辑" class="header-anchor">#</a> 2. 使用 every 优化代码逻辑</h3> <p><strong>需求：</strong> 判断 <code>animals</code> 数组中的动物是否都属于 <code>cute</code> 类型。</p> <p><code>every</code>：判断数组的每一项是否都满足条件，都满足条件返回 <code>true</code>，否则返回 <code>false</code>。</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">const</span> animals <span class="token operator">=</span> <span class="token punctuation">[</span>
  <span class="token punctuation">{</span> <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">&quot;dog&quot;</span><span class="token punctuation">,</span> <span class="token literal-property property">type</span><span class="token operator">:</span> <span class="token string">&quot;cute&quot;</span><span class="token punctuation">,</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">{</span> <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">&quot;cat&quot;</span><span class="token punctuation">,</span> <span class="token literal-property property">type</span><span class="token operator">:</span> <span class="token string">&quot;cute&quot;</span><span class="token punctuation">,</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">{</span> <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">&quot;elephant&quot;</span><span class="token punctuation">,</span> <span class="token literal-property property">type</span><span class="token operator">:</span> <span class="token string">&quot;tall&quot;</span><span class="token punctuation">,</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">]</span><span class="token punctuation">;</span>

<span class="token keyword">function</span> <span class="token function">type</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">let</span> isAllCute <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>

  <span class="token comment">// 判断条件：animals 中的动物是否都是 cute 类型</span>
  <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> animal <span class="token keyword">of</span> animals<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>isAllCute<span class="token punctuation">)</span> <span class="token keyword">break</span><span class="token punctuation">;</span>
    isAllRed <span class="token operator">=</span> animal<span class="token punctuation">.</span>type <span class="token operator">===</span> <span class="token string">&quot;cute&quot;</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>isAllCute<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// false</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br></div></div><p>使用 <code>every</code> 方法，更容易处理上面的判断逻辑。</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">const</span> animals <span class="token operator">=</span> <span class="token punctuation">[</span>
  <span class="token punctuation">{</span> <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">&quot;dog&quot;</span><span class="token punctuation">,</span> <span class="token literal-property property">type</span><span class="token operator">:</span> <span class="token string">&quot;cute&quot;</span><span class="token punctuation">,</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">{</span> <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">&quot;cat&quot;</span><span class="token punctuation">,</span> <span class="token literal-property property">type</span><span class="token operator">:</span> <span class="token string">&quot;cute&quot;</span><span class="token punctuation">,</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">{</span> <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">&quot;elephant&quot;</span><span class="token punctuation">,</span> <span class="token literal-property property">type</span><span class="token operator">:</span> <span class="token string">&quot;tall&quot;</span><span class="token punctuation">,</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">]</span><span class="token punctuation">;</span>

<span class="token keyword">function</span> <span class="token function">animals</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">// 判断条件：animals中的动物是否都是cute类型</span>
  <span class="token keyword">const</span> isAllCute <span class="token operator">=</span> animals<span class="token punctuation">.</span><span class="token function">every</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">animal</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> animal<span class="token punctuation">.</span>type <span class="token operator">===</span> <span class="token string">&quot;cute&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>isAllCute<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// false</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br></div></div><h3 id="_3-使用-some-方法优化代码逻辑"><a href="#_3-使用-some-方法优化代码逻辑" class="header-anchor">#</a> 3. 使用 some 方法优化代码逻辑</h3> <p><strong>需求：</strong> 判断 animals 中的动物是否存在有 <code>tall</code> 类型的。</p> <p><code>some()</code> 是对数组中每一项运行给定函数，如果有一项符合条件，则返回 <code>true</code>，都不符合条件返回 <code>false</code>。</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">const</span> animals <span class="token operator">=</span> <span class="token punctuation">[</span>
  <span class="token punctuation">{</span> <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">&quot;dog&quot;</span><span class="token punctuation">,</span> <span class="token literal-property property">type</span><span class="token operator">:</span> <span class="token string">&quot;cute&quot;</span><span class="token punctuation">,</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">{</span> <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">&quot;cat&quot;</span><span class="token punctuation">,</span> <span class="token literal-property property">type</span><span class="token operator">:</span> <span class="token string">&quot;cute&quot;</span><span class="token punctuation">,</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">{</span> <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">&quot;elephant&quot;</span><span class="token punctuation">,</span> <span class="token literal-property property">type</span><span class="token operator">:</span> <span class="token string">&quot;tall&quot;</span><span class="token punctuation">,</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">]</span><span class="token punctuation">;</span>

<span class="token keyword">function</span> <span class="token function">animals</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">// 判断条件：animals中的动物是否含有tall类型</span>
  <span class="token keyword">const</span> isHasTall <span class="token operator">=</span> animals<span class="token punctuation">.</span><span class="token function">some</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">animal</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> animal<span class="token punctuation">.</span>type <span class="token operator">===</span> <span class="token string">&quot;tall&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>isHasTall<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// true</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br></div></div><h2 id="六-默认值优化"><a href="#六-默认值优化" class="header-anchor">#</a> 六. 默认值优化</h2> <ul><li>优化前：</li></ul> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">function</span> <span class="token function">request</span><span class="token punctuation">(</span><span class="token parameter">options</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">let</span> method <span class="token operator">=</span> options<span class="token punctuation">.</span>method <span class="token operator">?</span> options<span class="token punctuation">.</span>method <span class="token operator">:</span> <span class="token string">&quot;GET&quot;</span><span class="token punctuation">;</span>
  <span class="token keyword">let</span> data <span class="token operator">=</span> options<span class="token punctuation">.</span>data <span class="token operator">?</span> options<span class="token punctuation">.</span>data <span class="token operator">:</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
  <span class="token comment">//...</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><ul><li>优化后：</li></ul> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">function</span> <span class="token function">request</span><span class="token punctuation">(</span><span class="token parameter">options</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">let</span> method <span class="token operator">=</span> options<span class="token punctuation">.</span>method <span class="token operator">||</span> <span class="token string">&quot;GET&quot;</span><span class="token punctuation">;</span>
  <span class="token keyword">let</span> data <span class="token operator">=</span> options<span class="token punctuation">.</span>data <span class="token operator">||</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
  <span class="token comment">//...</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><ul><li>基于 ES6 优化后：</li></ul> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token comment">// 解析解构和默认参数搭配使用</span>
<span class="token keyword">function</span> <span class="token function">request</span><span class="token punctuation">(</span><span class="token punctuation">{</span> method<span class="token punctuation">,</span> data <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token punctuation">{</span> <span class="token literal-property property">method</span><span class="token operator">:</span> <span class="token string">&quot;GET&quot;</span><span class="token punctuation">,</span> <span class="token literal-property property">data</span><span class="token operator">:</span> <span class="token punctuation">{</span><span class="token punctuation">}</span> <span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>method<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// GET</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// {}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><h2 id="七-使用策略模式优化分支逻辑"><a href="#七-使用策略模式优化分支逻辑" class="header-anchor">#</a> 七. 使用策略模式优化分支逻辑</h2> <p><strong>需求：</strong> 咱马上要过国庆节啦，得打折清仓呀，有的商品 5 折，有的 7 折，有的 9 折~</p> <ul><li>优化前：</li></ul> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">function</span> <span class="token function">percent50</span><span class="token punctuation">(</span><span class="token parameter">price</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">// 五折的算法</span>
<span class="token punctuation">}</span>

<span class="token keyword">function</span> <span class="token function">percent70</span><span class="token punctuation">(</span><span class="token parameter">price</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">// 七折的算法</span>
<span class="token punctuation">}</span>

<span class="token keyword">function</span> <span class="token function">percent90</span><span class="token punctuation">(</span><span class="token parameter">price</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">// 九折的算法</span>
<span class="token punctuation">}</span>

<span class="token keyword">function</span> <span class="token function">calculatePrice</span><span class="token punctuation">(</span><span class="token parameter">price</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>五折的商品<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token function">percent50</span><span class="token punctuation">(</span>price<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token keyword">if</span> <span class="token punctuation">(</span>七折的商品<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token function">percent50</span><span class="token punctuation">(</span>price<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token keyword">if</span> <span class="token punctuation">(</span>九折的商品<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token function">percent50</span><span class="token punctuation">(</span>price<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token function">calculatePrice</span><span class="token punctuation">(</span>price<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br></div></div><p>写到这里需求又来了，那以后的中秋节、元旦、情人节、元宵节…… 都要促销呀！再来个满 300 减 50，满 500 减 80，vip 用户满 500-150 上不封顶！对于这种越来越多的需求，还要深入函数内部一一增加 <code>if</code> 分支吗？</p> <p>以上写法的缺点：</p> <ol><li><code>calculatePrice</code> 函数比较庞大，包含了很多 <code>if else</code> 语句。</li> <li>如果再增加更多相似需求，必须要深入到 <code>calculatePrice</code> 函数内部实现，违反了开放封闭原则。</li></ol> <h3 id="_1-使用策略模式优化"><a href="#_1-使用策略模式优化" class="header-anchor">#</a> 1. 使用策略模式优化</h3> <p>策略模式(<code>Strategy Pattern</code>)：定义一系列算法，将每一个算法封装起来，并让它们可以相互替换。策略模式是一种对象行为型模式。</p> <p>这里的算法其实就是业务逻辑，为了更形象，干脆将其理解为一个函数。其实这个定义的基本意思就是说，根据策略选择要执行的函数，而每一个策略都会有一个标识名，可以称为 <code>key</code>。而策略名对应的函数，可以称为 <code>value</code>，
其实就是使用 <code>key</code> 寻找 <code>value</code>，然后执行 <code>value</code> 的过程。也就是说，根据条件去执行相应的业务逻辑，从这层意思上理解，就是 <code>if else</code> 要干的事。</p> <p>使用策略模式优化后：</p> <p>使用思路：定义一个对象封装不同的行为，提供选择接口，在不同条件下调用相应的行为。</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token comment">// 策略类</span>
<span class="token keyword">let</span> strategy <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">// 5折</span>
  <span class="token function">percent50</span><span class="token punctuation">(</span><span class="token parameter">price</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> price <span class="token operator">*</span> <span class="token number">0.5</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token comment">// 7折</span>
  <span class="token function">percent70</span><span class="token punctuation">(</span><span class="token parameter">price</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> price <span class="token operator">*</span> <span class="token number">0.7</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token comment">// 9折</span>
  <span class="token function">percent90</span><span class="token punctuation">(</span><span class="token parameter">price</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> price <span class="token operator">*</span> <span class="token number">0.9</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token comment">// 满300-50</span>
  <span class="token function">fullReduce50</span><span class="token punctuation">(</span><span class="token parameter">price</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// 执行满300-50的业务逻辑</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token comment">// 满300-80</span>
  <span class="token function">fullReduce80</span><span class="token punctuation">(</span><span class="token parameter">price</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// 执行满300-80的业务逻辑</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token comment">// vip用户五折</span>
  <span class="token function">vip50</span><span class="token punctuation">(</span><span class="token parameter">price</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// vip用户五折的业务逻辑</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token comment">// 调用策略类中的方法</span>
<span class="token comment">// 环境类</span>
<span class="token keyword">function</span> <span class="token function">calculatePrice</span><span class="token punctuation">(</span><span class="token parameter">strategyName<span class="token punctuation">,</span> price</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> strategy<span class="token punctuation">[</span>strategyName<span class="token punctuation">]</span> <span class="token operator">&amp;&amp;</span> strategy<span class="token punctuation">[</span>strategyName<span class="token punctuation">]</span><span class="token punctuation">(</span>price<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">calculatePrice</span><span class="token punctuation">(</span><span class="token string">&quot;percent50&quot;</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 50</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br></div></div><blockquote><p>使用策略类优化后，后期再增加需求时，我们就不需要再深入到 <code>calculatePrice</code> 函数内部增加分支了，只需要在 <code>strategy</code> 策略类中增加相应的算法就可以啦！这样的代码是不是在后期更好维护呢！！！</p></blockquote> <p>上面例子中：</p> <p><strong>策略类</strong> 是指 <code>strategy</code> 对象，保存了所有的策略名对应的方法。</p> <p><strong>环境类</strong> 是用接收策略名和其它参数，然后调用对应的策略方法。</p> <p>好处：</p> <ol><li>有效的避免了多重条件选择语句。</li> <li>策略模式提供了对外开放 - 封闭原则的完美支持，将算法独立封装在 strategy 中，使得这些算法易于切换、易于理解、易于扩展。</li></ol> <h2 id="八-总结"><a href="#八-总结" class="header-anchor">#</a> 八. 总结</h2> <ol><li>更少的嵌套，尽早 <code>return</code>。</li> <li>倾向于使用对象或使用 map 结构来优化 <code>if else</code>，而不是 <code>Switch</code> 语句。</li> <li>多重判断时使用 <code>Array.includes</code>。</li> <li>对 所有 / 部分 判断使用 <code>Array.every</code> &amp; <code>Array.some</code>。</li> <li>当一个项目中需要大量算法，大量匹配模式时间可以考虑使用策略模式。</li></ol> <h2 id="九-感想"><a href="#九-感想" class="header-anchor">#</a> 九. 感想</h2> <p><img src="https://cdn.staticaly.com/gh/oliver556/image-hosting@master/20220701/javascript_07-01_01.3am7benoec20.webp" alt="javascript_07-01_01"></p> <div class="img-desc" data-v-4d496bb8><p align="center" style="color: #999;" data-v-4d496bb8>    被动 or 主动学习内容的留存率 ▲</p></div> <p><strong>让我们感到快乐和幸福的方法，无非是全身心的投入到我们稍微努力一下就能完成的事情中去。</strong> 是这样的，太难的事情我们很难去完成，最终丧失信息，而简单的事情又不能勾起我们的兴趣，只有像这种看似比较难，但是稍微努力就能完成的事情，
才能给我们带来很大的快乐。</p></div></div> <!----> <div class="page-edit"><!----> <div class="tags"><a href="/tags/?tag=JavaScript%20%E4%BC%98%E5%8C%96" title="标签">#JavaScript 优化</a></div> <div class="last-updated"><span class="prefix">上次更新:</span> <span class="time">2022/07/20, 15:39:52</span></div></div> <div class="page-nav-wapper"><div class="page-nav-centre-wrap"><a href="/pages/a856f1/" class="page-nav-centre page-nav-centre-prev"><div class="tooltip">最全跨域解决方案</div></a> <!----></div> <div class="page-nav"><p class="inner"><span class="prev">
        ←
        <a href="/pages/a856f1/" class="prev">最全跨域解决方案</a></span> <!----></p></div></div></div> <!----></main></div> <div class="footer"><div class="icons"></div> 
  Theme by
  <a href="https://github.com/xugaoyi/vuepress-theme-vdoing" target="_blank" title="本站主题">Vdoing</a> 
    | Copyright © 2017-2023
    <span>Jamey | blog <a href="http://beian.miit.gov.cn/" target="_blank">闽ICP备19022664号 </a></span></div> <div class="buttons"><div title="返回顶部" class="button blur go-to-top iconfont icon-fanhuidingbu" style="display:none;"></div> <div title="去评论" class="button blur go-to-comment iconfont icon-pinglun" style="display:none;"></div> <div title="主题模式" class="button blur theme-mode-but iconfont icon-zhuti"><ul class="select-box" style="display:none;"><li class="iconfont icon-zidong">
          跟随系统
        </li><li class="iconfont icon-rijianmoshi">
          浅色模式
        </li><li class="iconfont icon-yejianmoshi">
          深色模式
        </li><li class="iconfont icon-yuedu">
          阅读模式
        </li></ul></div></div> <!----> <!----> <!----></div><div class="global-ui"><div></div></div></div>
    <script src="/assets/js/app.8146073e.js" defer></script><script src="/assets/js/2.53e9b62d.js" defer></script><script src="/assets/js/182.7e40c7eb.js" defer></script><script src="/assets/js/11.e591b5d9.js" defer></script><script src="/assets/js/4.49cfce35.js" defer></script>
  </body>
</html>
