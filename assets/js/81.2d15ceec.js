(window.webpackJsonp=window.webpackJsonp||[]).push([[81],{419:function(a,s,t){"use strict";t.r(s);var e=t(7),r=Object(e.a)({},(function(){var a=this,s=a._self._c;return s("ContentSlotsDistributor",{attrs:{"slot-key":a.$parent.slotKey}},[s("h1",{attrs:{id:"git-修改提交历史中的指定信息"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#git-修改提交历史中的指定信息"}},[a._v("#")]),a._v(" Git 修改提交历史中的指定信息")]),a._v(" "),s("h2",{attrs:{id:"一-使用-rebase"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#一-使用-rebase"}},[a._v("#")]),a._v(" 一. 使用 rebase")]),a._v(" "),s("p",[a._v("如图，红圈中提交的用户名及邮箱是需要改的，则需要复制 "),s("code",[a._v("需要改的提交记录的上一个记录 hashcode")]),a._v("，在本例中就是 "),s("code",[a._v("1c364e11588b2b44466af15b020d741d3460ef83")])]),a._v(" "),s("p",[s("img",{attrs:{src:"https://cdn.staticaly.com/gh/oliver556/image-hosting@master/20220524/git_05-24_01.3zk3h0tek2y0.webp",alt:"git_05-24_01"}})]),a._v(" "),s("div",{staticClass:"language-bash line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[a._v("$ "),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("git")]),a._v(" rebase "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-i")]),a._v(" 1c364e11588b2b44466af15b020d741d3460ef83\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br")])]),s("ul",[s("li",[a._v("也可以用 "),s("code",[a._v("HEAD~步长")]),a._v(" 的方式，但如果提交记录很久远的话，算步长就不太现实，所以更推荐 "),s("code",[a._v("hashcode")]),a._v(" 写法")])]),a._v(" "),s("div",{staticClass:"language-bash line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[a._v("$ "),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("git")]),a._v(" rebase "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-i")]),a._v(" HEAD~1\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br")])]),s("ul",[s("li",[a._v("如果整个仓库只有 1 次提交，即 root 提交，则需要用如下命令")])]),a._v(" "),s("div",{staticClass:"language-bash line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[a._v("$ "),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("git")]),a._v(" rebase "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-i")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("--root")]),a._v("\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br")])]),s("h2",{attrs:{id:"二-此时进入编辑界面"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#二-此时进入编辑界面"}},[a._v("#")]),a._v(" 二. 此时进入编辑界面")]),a._v(" "),s("blockquote",[s("p",[a._v("记录着 commit 的信息")])]),a._v(" "),s("p",[s("img",{attrs:{src:"https://cdn.staticaly.com/gh/oliver556/image-hosting@master/20220524/git_05-24_02.2r2hbcend8a0.webp",alt:"git_05-24_02"}})]),a._v(" "),s("h2",{attrs:{id:"三-修改需要修改的-commit"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#三-修改需要修改的-commit"}},[a._v("#")]),a._v(" 三. 修改需要修改的 commit")]),a._v(" "),s("p",[a._v("需要修改那个 commit 就在首行将 "),s("code",[a._v("pick")]),a._v(" 改为 "),s("code",[a._v("edit")]),a._v("，在本例中则需要改第一行")]),a._v(" "),s("p",[s("img",{attrs:{src:"https://cdn.staticaly.com/gh/oliver556/image-hosting@master/20220524/git_05-24_03.39x3ezbdqtg0.webp",alt:"git_05-24_03"}})]),a._v(" "),s("h2",{attrs:{id:"四-保存退出"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#四-保存退出"}},[a._v("#")]),a._v(" 四. 保存退出")]),a._v(" "),s("p",[s("code",[a._v("wq")]),a._v(" 保存退出之后会返回如下内容")]),a._v(" "),s("p",[s("img",{attrs:{src:"https://cdn.staticaly.com/gh/oliver556/image-hosting@master/20220524/git_05-24_04.4loyrhk42n00.webp",alt:"git_05-24_04"}})]),a._v(" "),s("h2",{attrs:{id:"五-修改用户名及邮箱"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#五-修改用户名及邮箱"}},[a._v("#")]),a._v(" 五. 修改用户名及邮箱")]),a._v(" "),s("div",{staticClass:"language-bash line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[a._v("$ "),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("git")]),a._v(" commit "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("--amend")]),a._v(" --reset-author\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br")])]),s("p",[a._v("命令执行后会进入提交日志的编辑界面，我们仅需要修改用户名及邮箱，不需要修改提交日志信息，"),s("code",[a._v("wq")]),a._v(" 保存退出即可")]),a._v(" "),s("p",[s("img",{attrs:{src:"https://cdn.staticaly.com/gh/oliver556/image-hosting@master/20220524/git_05-24_05.1ig1gt3rq9q8.webp",alt:"git_05-24_05"}})]),a._v(" "),s("p",[a._v("接下来此次提交的作者及邮箱会被修改为 "),s("code",[a._v("--local")]),a._v(" 级别的用户名及邮箱，若该级别没有设置，则会使用 "),s("code",[a._v("--global")]),a._v(" 级别的用户名及邮箱")]),a._v(" "),s("ul",[s("li",[a._v("如果不想使用已经设置好的用户名及邮箱的话，也可以手动指定用户名及邮箱：")])]),a._v(" "),s("div",{staticClass:"language-bash line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[a._v("$ "),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("git")]),a._v(" commit "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("--amend")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("--author")]),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),s("span",{pre:!0,attrs:{class:"token string"}},[a._v('"otheruser <otheremail@qq.com>"')]),a._v("\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br")])]),s("h2",{attrs:{id:"六-结束-rebase"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#六-结束-rebase"}},[a._v("#")]),a._v(" 六. 结束 rebase")]),a._v(" "),s("div",{staticClass:"language-bash line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[a._v("$ "),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("git")]),a._v(" rebase "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("--continue")]),a._v("\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br")])]),s("p",[a._v("再查看提交记录，可以看到提交的作者及邮箱已经改正了。")]),a._v(" "),s("p",[s("img",{attrs:{src:"https://cdn.staticaly.com/gh/oliver556/image-hosting@master/20220524/git_05-24_06.3ji4253c1di0.webp",alt:"git_05-24_06"}})]),a._v(" "),s("h2",{attrs:{id:"七-同步到远程仓库上"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#七-同步到远程仓库上"}},[a._v("#")]),a._v(" 七. 同步到远程仓库上")]),a._v(" "),s("div",{staticClass:"language-bash line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[a._v("$ "),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("git")]),a._v(" push "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-f")]),a._v(" origin master\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br")])])])}),[],!1,null,null,null);s.default=r.exports}}]);